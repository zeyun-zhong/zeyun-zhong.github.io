<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Introduction of Principal Components Analysis (Chinese) | Zeyun Zhong</title> <meta name="author" content="Zeyun Zhong"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?e087b27490cd3d072797d04d4fc7ed65"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/luna.jpeg?3412bc233bd226753623e0a45dbe37de"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://zeyun-zhong.github.io/blog/2021/Introduction-of-Principal-Components-Analysis-(Chinese)/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Zeyun </span>Zhong</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Introduction of Principal Components Analysis (Chinese)</h1> <p class="post-meta">August 30, 2021</p> <p class="post-tags"> <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="引入">引入</h2> <p>维度是数据科学中的一个重要话题。维度是数据集的所有特征。例如，对于一个包含音乐作品的数据集而言，维度可以是流派、作品的长度、乐器的数量等等。我们可以把所有这些维度想象成不同的列。当只有两个维度时，绘图就非常方便：可以使用x轴和y轴。如果有几十个或几百个维度，那也是类似的，只是会更难将其可视化。</p> <p>当有很多维度时，难免其中一些维度是相关的。例如，一首乐曲的流派会与乐曲中的乐器相关，等等。那么这些维度就是冗余的，因此实际上我们可以使用更少的维度来描述同一个对象。减少维度的一个方法是只保留部分维度而舍去其他维度，但是这样我们可能会失去一些好的信息。如果有一种方法可以减少这些维度，同时保留数据集中的重要信息，那就好了。没错，这时候PCA就登场了。</p> <h2 id="两个目的">两个目的</h2> <p>主成分分析PCA是一种被广泛用于数据降维、有损数据压缩、特征提取等应用的技术。PCA为我们提供了一组新的维度，即<strong>主成分</strong>（PC）。每一个主成分都是数据集所有原特征的线性组合。这些主成分是有序的，第一主成分就是体现数据差异最大化的维度。此外，主成分之间是正交的（点积为0）。</p> <p>PCA的目的有两个：</p> <ul> <li> <strong>最大化正交投影后数据的方差</strong>。也就是说想办法找到新的一组维度，使得在这些维度构成的空间上，样本间的差距最大。这样我们就能更好的分辨和描绘出每个独立的样本。</li> <li> <strong>最小化重构损失</strong>。我们虽然想要使用更少的维度来描述原数据，但是也不希望重构的数据与原数据相差甚远。</li> </ul> <p>在分析这两个目的之前，我们来看一下重构这个概念。当数据投影到新维度空间时，投影数据的表示方式就是新维度空间的表示方式。这时如果我们想要计算重构损失，我们就要把投影数据转换成为原维度空间的表示方式。举个简单的例子，如下图所示，蓝点的坐标是(1,2)，投影到红轴上，投影点在红轴的表示方式是：$[1,2]\cdot[\frac{1}{\sqrt{2}},\frac{1}{\sqrt{2}}]^T = \frac{3}{\sqrt{2}}$。我们现在要计算重构损失，就要把橙点从红轴上再转换到原坐标系：$\frac{3}{\sqrt{2}}\cdot[\frac{1}{\sqrt{2}},\frac{1}{\sqrt{2}}]=(\frac{3}{2},\frac{3}{2})$。</p> <p><img src="/assets/images/Linear%20Algebra/proj_reconst2.png" alt="" class="align-center"> <em>图 1. 二维数据（蓝点）在新维度（红轴）上的投影（橙点）。</em></p> <p>现在我们来分析一下这两个目的。这两个目的看起来虽然很不相同，但是实质上是一样的。</p> <p>我们先通过一张图来直观看待，如下图所示，图中的每一个点代表一个二维样本，可以看出这两个维度（x和y）是相关联的。我们可以通过投影这些点到一条穿过点云中心的线来重新描述这些数据。图中的黑线即我们要寻找的新的维度，黑线上的红点即原数据在新维度上的投影。这个新的维度是原维度x和y的线性组合。观看这张图我们会发现，当黑线转动到洋红线的时候：1）红点最为扩散（方差最大），2）平均重构损失（连结红点与蓝点的红线）最小。也就是说“最大方差”和“最小损失”是同时达到的。</p> <p><img src="/assets/images/Linear%20Algebra/PCA.gif" alt="" class="align-center"> <em>图 2. 二维数据（蓝点）在新维度（黑线）上的投影（红点）。</em></p> <p>现在我们用公式来证明一下这个观察。让我们用$\boldsymbol{X}\in R ^{m\times n}$来表示去中心化的数据，其中$m$表示样本的数量，$n$表示每一个样本的维度。去中心化意味着数据已被平移，新的数据中心是零向量，那么现在数据的协方差矩阵就是：</p> \[\boldsymbol{\Sigma} = \frac{1}{m-1} (\boldsymbol{X}-\boldsymbol{\bar{X}})^T(\boldsymbol{X}-\boldsymbol{\bar{X}}) = \frac{1}{m-1} \boldsymbol{X}^T\boldsymbol{X}。\tag{1}\] <p>我们用一个单位向量$\boldsymbol{w}\in R^{n\times 1}$来作为第一主成分（方便起见，我们暂时只考虑第一主成分），因为新维度是原所有维度的线性组合，所以长度为$n$。那么数据在这一向量上的投影就是$\boldsymbol{X}<em>{proj} = \boldsymbol{X}\boldsymbol{w}$，$\boldsymbol{X}</em>{proj} \in R^{m\times 1}$。根据目的一，我们想最大化投影后数据的方差，即：</p> \[\begin{aligned} \boldsymbol{w} = \underset{\boldsymbol{w}}{\mathrm{argmax}} \, \mathrm{Var}(\boldsymbol{X}_{proj}) &amp;= \underset{\boldsymbol{w}}{\mathrm{argmax}} \, \frac{1}{m-1} \boldsymbol{w}^T\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w} \\ &amp;= \underset{\boldsymbol{w}}{\mathrm{argmax}} \, \boldsymbol{w}^T\boldsymbol{\Sigma}\boldsymbol{w} \quad \text{subject to} \quad \boldsymbol{w}^T\boldsymbol{w}=1。 \end{aligned} \tag{2}\] <p>原数据的重构表示为$\boldsymbol{X}<em>{reconst} = \boldsymbol{X}</em>{proj}\boldsymbol{w}^T$，$\boldsymbol{X}_{reconst}\in R^{m\times n}$。根据目的二，我们要最小化重构损失，即：</p> \[\begin{aligned} \boldsymbol{w} &amp;= \underset{\boldsymbol{w}}{\mathrm{argmin}} \, || \boldsymbol{X} - \boldsymbol{X}_{reconst} ||_F^2 \\&amp; = \underset{\boldsymbol{w}}{\mathrm{argmin}} \, \mathrm{Tr}\big((\boldsymbol{X}-\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T)^T(\boldsymbol{X}-\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T) \big)\\ &amp; = \underset{\boldsymbol{w}}{\mathrm{argmin}} \, \mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X} - \boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T-\boldsymbol{w}\boldsymbol{w}^T\boldsymbol{X}^T\boldsymbol{X}+\boldsymbol{w}\boldsymbol{w}^T\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T) \\ &amp; = \underset{\boldsymbol{w}}{\mathrm{argmin}} \, \underbrace{\mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X})}_{常数项，可省略} - \underbrace{2\cdot \mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T)}_{迹运算}+ \underbrace{\mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T\boldsymbol{w}\boldsymbol{w}^T)}_{迹运算} \\ &amp; = \underset{\boldsymbol{w}}{\mathrm{argmin}} \, -2\cdot \mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T)+ \underbrace{\mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T)}_{单位向量，\boldsymbol{w}^T\boldsymbol{w}=1} \\ &amp; = \underset{\boldsymbol{w}}{\mathrm{argmax}} \,\mathrm{Tr}(\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}\boldsymbol{w}^T) = \underset{\boldsymbol{w}}{\mathrm{argmax}} \, \mathrm{Tr}(\boldsymbol{w}^T\boldsymbol{X}^T\boldsymbol{X}\boldsymbol{w}) \\&amp; = \underset{\boldsymbol{w}}{\mathrm{argmax}} \,\boldsymbol{w}^T\boldsymbol{\Sigma}\boldsymbol{w}\quad \text{subject to} \quad \boldsymbol{w}^T\boldsymbol{w}=1。 \end{aligned} \tag{3}\] <p>其中$||\boldsymbol{\cdot} ||_F$表示Frobenius范数，类似于向量的$L^2$范数。迹运算的部分请参考Deep Learning Book的<a href="https://www.deeplearningbook.org/contents/linear_algebra.html" rel="external nofollow noopener" target="_blank">2.10</a>小节。可见，PCA的这两个目的最终达到的效果是一样的。</p> <h2 id="求解">求解</h2> <p>现在有了公式就好办了，我们先用拉格朗日乘子法将有约束的优化问题转化成无约束的优化问题：</p> \[\boldsymbol{w} = \underset{\boldsymbol{w}}{\mathrm{argmax}} \, L(\boldsymbol{w},\lambda) = \underset{\boldsymbol{w}}{\mathrm{argmax}} \, \boldsymbol{w}^T\boldsymbol{\Sigma}\boldsymbol{w} - \lambda(\boldsymbol{w}^T\boldsymbol{w}-1)。\tag{4}\] <p>对$\boldsymbol{w}$求导并置零来求得静态点（对矩阵求导的部分可参考<a href="https://zhuanlan.zhihu.com/p/24709748" rel="external nofollow noopener" target="_blank">这里</a>）：</p> \[\frac{\partial L}{\partial \boldsymbol{w}} = 2(\boldsymbol{\Sigma}\boldsymbol{w}-\lambda\boldsymbol{w}) = \boldsymbol{0}。\tag{5}\] <p>这样我们就得到了特征值的定义等式：$\boldsymbol{\Sigma \boldsymbol{w}} = \lambda\boldsymbol{w}$，由此可知$\lambda$是协方差矩阵$\boldsymbol{\Sigma}$的特征值。将此式代入（4）可得，第一主成分即$\boldsymbol{\Sigma}$的最大特征值所对应的特征向量。值得一提的是，$\boldsymbol{\Sigma}$和$\boldsymbol{X}^T\boldsymbol{X}$的特征向量矩阵都是一样的，只不过特征值存在着系数的差别。因此，对$\boldsymbol{\Sigma}$和$\boldsymbol{X}^T\boldsymbol{X}$进行特征值分解都会获得同样的结果。</p> <p>如果我们要求前$l$个主成分，我们只需要用$\boldsymbol{W}\in R ^{n\times l}$来代替式（2）和（3）中的单位向量$\boldsymbol{w}$即可。$\boldsymbol{W}$中列向量（主成分）互相正交，因此$\boldsymbol{W}^T\boldsymbol{W}=\boldsymbol{I}_l$。根据归纳法（详情请参考<a href="https://math.stackexchange.com/questions/2280047/how-to-prove-pca-using-induction" rel="external nofollow noopener" target="_blank">这里</a>），前$l$个主成分就是$\boldsymbol{\Sigma}$的$l$个最大特征值所对应的特征向量。</p> <h2 id="示例分析">示例分析</h2> <p>这里我们用一张假色红外图$\boldsymbol{I}$举个例子。这张红外图由三个通道组成，分别是NIR（近红外），R和G。这张图的分辨率是$255\times 607$，因此$\boldsymbol{X}$的大小是$154785\times 3$。在开始下面的操作之前，我们先将$\boldsymbol{X}$去中心化：$\boldsymbol{X} = \boldsymbol{X_{ori}} - \boldsymbol{\bar X}$。</p> <p><img src="/assets/images/Linear%20Algebra/houseigb.jpg" alt="" class="align-center"> <em>图 3. 假色红外图。</em></p> <p>通过计算得出，原图的协方差矩阵是：</p> \[\boldsymbol{\Sigma} = \frac{1}{m-1} \boldsymbol{X}^T\boldsymbol{X} = \left[\begin{matrix} 6324.4 &amp; 3013.5 &amp; 2952.5 \\ 3013.5 &amp; 2916.9 &amp; 2642.4 \\ 2952.5 &amp; 2642.4 &amp; 2595.2 \end{matrix} \right]。\] <p>根据<a href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient" rel="external nofollow noopener" target="_blank">相关系数</a>公式：$\rho_{(A, B)} = \frac{\text{cov}(A, B)}{\sigma_A \sigma_B}$，可计算出NIR和R的相关系数是70.2%，NIR和G的系数是72.9%，R和G的系数是96.0%。可见，这三个维度是相互关联的。接下来我们应用PCA，对协方差矩阵进行特征分解，会得到三个特征值$\boldsymbol{\lambda}$（10107，1623，106）和相对应的三个特征向量$\boldsymbol{W}$（主成分）（$[0.74, 0.48, 0.46]^T，[0.67, -0.57, -0.48]^T，[-0.03, -0.67, 0.74]^T$）。将原图投影到特征空间（$\boldsymbol{X}\boldsymbol{W}$），可得到新的协方差矩阵：</p> \[\boldsymbol{\Sigma}_{pca} = \left[\begin{matrix} 10107 &amp; 0 &amp; 0 \\ 0 &amp; 1623 &amp; 0 \\ 0 &amp; 0 &amp; 106 \end{matrix} \right]。\] <p>这时候会有同学发现，这个新协方差矩阵不就是把上面那三个特征值塞进去了吗？</p> <p>没错，确实是这样。因为：</p> \[\begin{aligned} \boldsymbol{\Sigma}_{pca} &amp;= \frac{1}{m-1} \boldsymbol{W}^T \boldsymbol{X}^T \boldsymbol{X} \boldsymbol{W} = \boldsymbol{W}^T\boldsymbol{\Sigma}\boldsymbol{W} \\ &amp; = \boldsymbol{W}^T\boldsymbol{\Sigma}[\boldsymbol{w}_1, \boldsymbol{w}_2, \boldsymbol{w}_3] = \boldsymbol{W}^T[\lambda_1\boldsymbol{w}_1, \lambda_2\boldsymbol{w}_2, \lambda_3\boldsymbol{w}_3] = \text{diag}(\boldsymbol{\lambda})。 \end{aligned}\] <p>结合新的协方差矩阵和下图，我们可以得出下列结论：</p> <ul> <li>经过投影之后的数据，维度之间不再相关联（协方差为0）。</li> <li>在第一主成分上，数据的方差最大，且包含信息最多。在最后一个主成分上，数据的方差最小，同时也包含着最少的信息。</li> </ul> <p><img src="/assets/images/Linear%20Algebra/pca_example.png" alt="" class="align-center"> <em>图 4. 原图和投影之后的图。</em></p> <h2 id="总结">总结</h2> <p>主成分分析PCA是一种被广泛用于数据降维、有损数据压缩、特征提取等应用的技术。PCA会找到一组新的维度（主成分），这些维度之间互相正交。分析PCA，你会发现PCA总是会先：1）找到当前n维空间中数据差异最大的维度，2）将数据投影到与该维度正交的维度空间（n-1）。</p> <p>这里再总结一下PCA的步骤：</p> <ul> <li>对数据去中心化</li> <li>计算协方差矩阵，注：这里除或不除样本数量m或m−1对求出的特征向量没影响</li> <li>对协方差矩阵进行特征分解</li> <li>选取特征值最大的几个维度进行数据映射，舍去较小特征值对应的维度，从而实现降维的目的</li> </ul> <p>以前上课的对这一块儿一直一知半解，最近读Deep Learning Book看到这一块，再结合网上看的一些文章，总结出这篇文章，方便自己以后回顾，也希望能帮助一些初学者。</p> <p>有错误欢迎指出，共同进步。</p> <h2 id="参考">参考</h2> <ul> <li>Deep Learning Book <a href="https://www.deeplearningbook.org/contents/linear_algebra.html" rel="external nofollow noopener" target="_blank">第二章</a> </li> <li>https://math.stackexchange.com/questions/2314520/find-maximum-of-matrix-trace</li> <li>https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues/2700#2700</li> <li>https://stats.stackexchange.com/questions/217995/what-is-an-intuitive-explanation-for-how-pca-turns-from-a-geometric-problem-wit</li> <li>https://stats.stackexchange.com/questions/32174/pca-objective-function-what-is-the-connection-between-maximizing-variance-and-m/136072#136072</li> <li>https://math.stackexchange.com/questions/2280047/how-to-prove-pca-using-induction</li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/Columnspace-and-Nullspace-of-a-Matrix-A-and-the-Solvability-of-Ax=b/">Columnspace and Nullspace of a Matrix A and the Solvability of Ax = b</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/Introduction-of-Common-Optimizers-in-Deep-Learning/">Introduction of Common Optimizers in Deep Learning</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/sample_variance/">Why is the Denominator of Sample Variance n-1?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Understanding-the-Gumbel-Softmax-Trick/">Understanding the Gumbel-Softmax Trick</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Zeyun Zhong. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>